<!DOCTYPE html>
<html ng-app="myapp">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1" >
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Web Page Source Code Viewer : @sekimura</title>
  <link rel="stylesheet" href="style.css">
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
  <script src="app.js"></script>
</head>
<body ng-controller="FetcherCtrl">
  <div class="outer">
    <a href="https://github.com/sekimura/wpscv"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
    <div class="inner">
      <h1>Web Page Source Code Viewer : @sekimura</h1>
      <form name="urlInputForm">
        <div>Enter Web Page URL:</div>
        <input ng-model="url" type="url" required>
        <button class="fetch-btn" ng-click="fetch()" ng-disabled="urlInputForm.$invalid">Fetch</button>
      </form>
      <div ng-if="error" class="error">
        <p ng-bind="error"></p>
      </div>
      <div ng-if="fetching">
        <p>Fetching...</p>
      </div>
      <div ng-if="result" class="result">
        <h2>Result</h2>
        <p>click buttons to highlight tags</p>
        <div class="highlighter-container">
          <button ng-class="{'highlighted': highlighted == stat.Name}"
            class="tag-highlighter" ng-repeat="stat in result.Summary | orderBy:['Count', 'Name']:true" ng-bind="stat.Name + '(' + stat.Count + ')'" ng-click="highlight(stat.Name)"></button>
        </div>
        <div class="lines-container">
          <ol id="source" class="lines">
            <li class="line" ng-repeat="line in result.Lines track by $index">
              <fetch-result-line highlighted="highlighted" line="line"></fetch-result-line>
            </li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
